{
    "contents" : "#'@title Andrew Lo Sharpe Ratio\n#'@description\n#' Although the Sharpe ratio has become part of the canon of modern financial \n#' analysis, its applications typically do not account for the fact that it is an\n#' estimated quantity, subject to estimation errors that can be substantial in \n#' some cases.\n#' \n#' Many studies have documented various violations of the assumption of \n#' IID returns for financial securities.\n#' \n#' Under the assumption of stationarity,a version of the Central Limit Theorem can \n#' still be  applied to the estimator .\n#' @details\n#' The relationship between SR and SR(q) is somewhat more involved for non-\n#'IID returns because the variance of Rt(q) is not just the sum of the variances of component returns but also includes all the covariances. Specifically, under\n#' the assumption that returns \\eqn{R_t}  are stationary,\n#' \\deqn{ Var[(R_t)] =   \\sum \\sum Cov(R(t-i),R(t-j)) = q{\\sigma^2} + 2{\\sigma^2} \\sum (q-k)\\rho(k) }\n#' Where  \\eqn{ \\rho(k) = Cov(R(t),R(t-k))/Var[(R_t)]} is the \\eqn{k^{th}} order autocorrelation coefficient of the series of returns.This yields the following relationship between SR and SR(q):\n#' and i,j belongs to 0 to q-1\n#'\\deqn{SR(q)  =  \\eta(q) }\n#'Where :\n#' \\deqn{ }{\\eta(q) = [q]/[\\sqrt(q\\sigma^2) + 2\\sigma^2 \\sum(q-k)\\rho(k)] }\n#' Where, k belongs to 0 to q-1\n#' SR(q) :  Estimated Lo Sharpe Ratio\n#' SR : Theoretical William Sharpe Ratio\n#' @param Ra an xts, vector, matrix, data frame, timeSeries or zoo object of\n#' daily asset returns\n#' @param Rf an xts, vector, matrix, data frame, timeSeries or zoo object of\n#' annualized Risk Free Rate\n#' @param q Number of autocorrelated lag periods. Taken as 3 (Default)\n#' @param \\dots any other pass thru parameters\n#' @author Shubhankit Mohan\n#' @references Andrew Lo,\\emph{ The Statistics of Sharpe Ratio.}2002, AIMR.\n#' \\url{http://papers.ssrn.com/sol3/papers.cfm?abstract_id=377260}\n#' \n#' Andrew Lo,\\emph{Sharpe Ratio may be Overstated}\n#'  \\url{http://www.risk.net/risk-magazine/feature/1506463/lo-sharpe-ratios-overstated}\n#' @keywords ts multivariate distribution models non-iid \n#' @examples\n#' data(managers)\n#' LoSharpe(managers,0,3)\n#' @rdname LoSharpe\n#' @export\nLoSharpe <-\n  function (Ra,Rf = 0,q = 3, ...)\n  { # @author Brian G. Peterson, Peter Carl\n    \n    \n    # Function:\n    R = checkData(Ra, method=\"xts\")\n    # Get dimensions and labels\n    columns.a = ncol(R)\n    columnnames.a = colnames(R)\n    # Time used for daily Return manipulations\n    Time= 252*nyears(R)\n    clean.lo <- function(column.R,q) {\n      # compute the lagged return series\n      gamma.k =matrix(0,q)\n      mu = sum(column.R)/(Time)\n      Rf= Rf/(Time)\n      for(i in 1:q){\n        lagR = lag(column.R, k=i)\n        # compute the Momentum Lagged Values\n        gamma.k[i]= (sum(((column.R-mu)*(lagR-mu)),na.rm=TRUE))\n      }\n      return(gamma.k)\n    }\n    neta.lo <- function(pho.k,q) {\n      # compute the lagged return series\n      sumq = 0\n      for(j in 1:q){\n        sumq = sumq+ (q-j)*pho.k[j]\n      }\n      return(q/(sqrt(q+2*sumq)))\n    }\n    column.lo=NULL\n    lo=NULL\n    for(column.a in 1:columns.a) { # for each asset passed in as R\n      # clean the data and get rid of NAs\n      clean.ret=na.omit(R[,column.a])\n      mu = sum(clean.ret)/(Time)\n      sig=sqrt(((clean.ret-mu)^2/(Time)))\n      pho.k = na.omit(clean.lo(clean.ret,q))/(as.numeric(sig[1]))\n      netaq=neta.lo(pho.k,q)\n      #column.lo = (netaq*((mu-Rf)/as.numeric(sig[1])))\n      column.lo = as.numeric(SharpeRatio.annualized(R[,column.a]))[1]*netaq\n  #    if(column.a == 1)  { lo = column.lo }\n   #   else { lo = cbind (lo, column.lo) \n  #          colnames(lo) = columnnames.a\n    #  }\n      \n     lo=cbind(lo,column.lo) \n    }\n   colnames(lo) = columnnames.a \n    rownames(lo)= paste(\"Lo Sharpe Ratio\")\n    return(lo)\n    \n    \n    # RESULTS:\n    \n  }\n",
    "created" : 1379107718966.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "719783725",
    "id" : "F08D801A",
    "lastKnownWriteTime" : 1378565049,
    "path" : "C:/Users/shubhankit/Desktop/1 week/pkg/PerformanceAnalytics/sandbox/Shubhankit/noniid.sm/R/LoSharpe.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}