{
    "contents" : "#' calculate a Calmar or Sterling reward/risk ratio\n#'  \n#' Calmar and Sterling Ratios are yet another method of creating a\n#' risk-adjusted measure for ranking investments similar to the\n#' \\code{\\link{SharpeRatio}}.\n#' \n#' Both the Calmar and the Sterling ratio are the ratio of annualized return\n#' over the absolute value of the maximum drawdown of an investment. The\n#' Sterling ratio adds an excess risk measure to the maximum drawdown,\n#' traditionally and defaulting to 10\\%.\n#' \n#' It is also traditional to use a three year return series for these\n#' calculations, although the functions included here make no effort to\n#' determine the length of your series.  If you want to use a subset of your\n#' series, you'll need to truncate or subset the input data to the desired\n#' length.\n#' \n#' Many other measures have been proposed to do similar reward to risk ranking.\n#' It is the opinion of this author that newer measures such as Sortino's\n#' \\code{\\link{UpsidePotentialRatio}} or Favre's modified\n#' \\code{\\link{SharpeRatio}} are both \\dQuote{better} measures, and\n#' should be preferred to the Calmar or Sterling Ratio.\n#' \n#' @aliases CalmarRatio SterlingRatio\n#' @param R an xts, vector, matrix, data frame, timeSeries or zoo object of\n#' asset returns\n#' @param scale number of periods in a year (daily scale = 252, monthly scale =\n#' 12, quarterly scale = 4)\n#' @param excess for Sterling Ratio, excess amount to add to the max drawdown,\n#' traditionally and default .1 (10\\%)\n#' @author Brian G. Peterson\n#' @seealso \n#' \\code{\\link{Return.annualized}}, \\cr \n#' \\code{\\link{maxDrawdown}}, \\cr\n#' \\code{\\link{SharpeRatio.modified}}, \\cr \n#' \\code{\\link{UpsidePotentialRatio}}\n#' @references Bacon, Carl. \\emph{Practical Portfolio Performance Measurement\n#' and Attribution}. Wiley. 2004.\n#' @keywords ts multivariate distribution models\n#' @examples\n#' \n#'     data(managers)\n#'     CalmarRatio(managers[,1,drop=FALSE])\n#'     CalmarRatio(managers[,1:6]) \n#'     SterlingRatio(managers[,1,drop=FALSE])\n#'     SterlingRatio(managers[,1:6])\n#' \n#' @export \n#' @rdname CalmarRatio\nCalmarRatio <- function (R, scale = NA)\n{ # @author Brian G. Peterson\n\n    # DESCRIPTION:\n    # Inputs:\n    # Ra: in this case, the function anticipates having a return stream as input,\n    #    rather than prices.\n    # scale: number of periods per year\n    # Outputs:\n    # This function returns a Calmar Ratio\n\n    # FUNCTION:\n\n    R = checkData(R)\n    if(is.na(scale)) {\n        freq = periodicity(R)\n        switch(freq$scale,\n            minute = {stop(\"Data periodicity too high\")},\n            hourly = {stop(\"Data periodicity too high\")},\n            daily = {scale = 252},\n            weekly = {scale = 52},\n            monthly = {scale = 12},\n            quarterly = {scale = 4},\n            yearly = {scale = 1}\n        )\n    }\n    annualized_return = Return.annualized(R, scale=scale)\n    drawdown = abs(maxDrawdown(R))\n    result = annualized_return/drawdown\n    rownames(result) = \"Calmar Ratio\"\n    return(result)\n}\n\n#' @export \n#' @rdname CalmarRatio\nSterlingRatio <-\nfunction (R, scale=NA, excess=.1)\n{ # @author Brian G. Peterson\n\n    # DESCRIPTION:\n    # Inputs:\n    # Ra: in this case, the function anticipates having a return stream as input,\n    #    rather than prices.\n    # scale: number of periods per year\n    # Outputs:\n    # This function returns a Sterling Ratio\n\n    # FUNCTION:\n\n    R = checkData(R)\n    if(is.na(scale)) {\n        freq = periodicity(R)\n        switch(freq$scale,\n            minute = {stop(\"Data periodicity too high\")},\n            hourly = {stop(\"Data periodicity too high\")},\n            daily = {scale = 252},\n            weekly = {scale = 52},\n            monthly = {scale = 12},\n            quarterly = {scale = 4},\n            yearly = {scale = 1}\n        )\n    }\n    annualized_return = Return.annualized(R, scale=scale)\n    drawdown = abs(maxDrawdown(R)+excess)\n    result = annualized_return/drawdown\n    rownames(result) = paste(\"Sterling Ratio (Excess = \", round(excess*100,0), \"%)\", sep=\"\")\n    return(result)\n}\n\n###############################################################################\n# R (http://r-project.org/) Econometrics for Performance and Risk Analysis\n#\n# Copyright (c) 2004-2012 Peter Carl and Brian G. Peterson\n#\n# This R package is distributed under the terms of the GNU Public License (GPL)\n# for full details see the file COPYING\n#\n# $Id: CalmarRatio.R 1955 2012-05-23 16:38:16Z braverock $\n#\n###############################################################################\n",
    "created" : 1379108234025.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2541417133",
    "id" : "C4A4A866",
    "lastKnownWriteTime" : 1378551009,
    "path" : "C:/Users/shubhankit/Desktop/1 week/pkg/PerformanceAnalytics/R/CalmarRatio.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}